{% extends 'admin/base.html' %}
{%from 'admin/add_button.html' import addbutton %}
{% block script %}
    <link rel="stylesheet" type="text/css" href="/admin/static/css/bootstrapTable.css">
{% endblock %}

{%block cssfile%}
    <link href="/admin/static/css/table.css" rel="stylesheet">
    <link href="/admin/static/css/add_button.css" type="text/css" rel="stylesheet">
        <link href="/admin/static/css/edit_button.css" type="text/css" rel="stylesheet">


{%endblock%}

{% block content %}
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" charset="utf8"
            src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8"
            src="/admin/static/js/bootstrapTable.js"></script>


    {% for mess in get_flashed_messages() %}
        <div class="flash">flash messeger : {{ mess }}</div>
    {% endfor %}

    {% include "admin/add_button.html" %}

    <table id="data">
        <thead>
        <tr>
            <th>Id</th>
            <th>Username</th>
            <th>Email</th>
            <th>Options</th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.User.id }} </td>
                <td>{{ user.User.username }}</td>
                <td>{{ user.User.email }}</td>
                <td>
                    {% include "admin/edit_button.html" %}
                    <button><a id="deletebtn">delete</a></button></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <script src="/admin/static/js/add_button.js" type="text/javascript"></script>
    <script src="/admin/static/js/edit_button.js" type="text/javascript"></script>


    <script>
        $(document).ready(function () {
            $('#data').DataTable({
                columns: [
                    {orderable: true, searchable: true},
                    {searchable: true},
                    {orderable: false, searchable: false},
                    {orderable: false, searchable: false},
                ],
            });
        });
    </script>

    <p> bên dưới là update basic (OLD) </p>
    <form method="POST">
        {{ form.hidden_tag() }}
        {{ form.username.label }} {{ form.username() }}
        {{ form.userid.label }} {{ form.userid() }}
        {{ form.email.label }} {{ form.email() }}
        {{ form.password.label }} {{ form.password() }}
        {{ form.submit() }}
    </form>
{% endblock %}