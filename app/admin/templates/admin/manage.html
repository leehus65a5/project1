{% extends 'admin/base.html' %}
{% block script %}
    <link rel="stylesheet" type="text/css" href="/user/static/css/bootstrapTable.css">
{% endblock %}

{%block cssfile%}
    <link href="/user/static/css/table.css" rel="stylesheet">
    <link href="/admin/static/css/add_button.css" type="text/css" rel="stylesheet">
    <link href="/admin/static/css/edit_button.css" type="text/css" rel="stylesheet">
{%endblock%}

{% block content %}
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" charset="utf8"
            src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8"
            src="/user/static/js/bootstrapTable.js"></script>


    {% for mess in get_flashed_messages() %}
        <div class="flash">flash messeger : {{ mess }}</div>
    {% endfor %}


    <table id="data">
        <thead>
        <tr>
            <th>Id</th>
            <th>Username</th>
            <th>Email</th>
            <th>Options</th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.User.id }} </td> 
                <td>{{ user.User.username }}</td>
                <td>{{ user.User.email }}</td>
                <td>
                    {% include "admin/edit_button.html" %}
                    <button><a id="deletebtn">delete</a></button>
                    <input type="text" value="{{user.User.username}}" name="name">
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <script src="/admin/static/js/add_button.js" type="text/javascript"></script>
    <script src="/admin/static/js/edit_button.js" type="text/javascript"></script>


    <script>
        $(document).ready(function () {
            $('#data').DataTable({
                columns: [
                    {orderable: true, searchable: true},
                    {searchable: true},
                    {orderable: false, searchable: false},
                    {orderable: false, searchable: false},
                ],
            });
        });
    </script>
{% endblock %}